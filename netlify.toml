[build]
    publish = "public"
    command = "npm run build"

# ------------------------------------------------------------------------------
# Headers
# ------------------------------------------------------------------------------

[[headers]]
    for = "/*"
    [headers.values]
        Content-Security-Policy = "default-src 'self' ; script-src 'self' 'unsafe-inline' ; style-src 'self' 'unsafe-inline' ; img-src 'self' data: ; upgrade-insecure-requests; block-all-mixed-content; report-uri https://injms.report-uri.com/r/d/csp/enforce"
        Expect-CT = "max-age=0, report-uri='https://injms.report-uri.com/r/d/ct/reportOnly'"
        Referrer-Policy = "strict-origin-when-cross-origin"
        X-Content-Type-Options = "nosniff"
        X-Frame-Options = "DENY"
        X-XSS-Protection = "1; mode=block"

[[headers]]
    for = "/static/*"
    [headers.values]
        Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
    for = "/*.js"
    [headers.values]
        Cache-Control = "public, max-age=86400"


# ------------------------------------------------------------------------------
# Redirects
# ------------------------------------------------------------------------------

# [[redirects]]   
#     from = "/inceptionhorn"
#     to = "https://inception.davepedu.com/"
#     status = 302
#     force = false
